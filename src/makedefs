# Define compiler/linker:
#CC     = gcc-4.8
#C++    = g++-4.8
#LINK   = g++-4.8
CC     = clang-3.5
C++    = clang++-3.5
LINK   = clang++-3.5


# Define bison++ and flex++.
# NOTE: These are NOT the standard GNU programs, but a C++ adaption.
# Last I checked, they were available from
# ftp://ftp.th-darmstadt.de/pub/programming/languages/C++/tools/flex++bison++/

BISON   = bison++
FLEX    = /usr/local/bin/flex++
#BISON   = /home/bonet/software/bison++-1.21-8/bison++
#FLEX    = /home/bonet/software/flex++-2.3.8-7/flex++

# If you can not find/compile bison++/flex++, try using the "fake" programs
# as shown below. These are simple scripts that just copy pregenerated files.
# Replace <PLATFORM> by one of 'cygwin', 'linux' or 'solaris'.
#BISON  = locals/fake-bison++ linux
#FLEX   = locals/fake-flex++ linux

# Define compiler/linker flags:
DEBUG = -g

# if compiler fully supports c++14, use -DSMART
# if compiler supports smart pointers, use -DSMART
# if compiler doesn't support emplace() for std::map, use -DNO_EMPLACE_FOR_MAP
OPTIMIZE = -O3 -DSMART #-DNDEBUG
#OPTIMIZE = -O3 #-DNDEBUG
#OPTIMIZE = -O3 -DNO_EMPLACE_FOR_MAP #-DNDEBUG

# specify -std=c++11 or -std=c++14 depending on compiler's capability; c++14
# is prefered. In some systems, clang requires stdlib specification
#override CFLAGS += $(DEBUG) $(OPTIMIZE) -I. -Wall -std=c++11 -stdlib=libc++
#override LFLAGS += $(DEBUG) $(OPTIMIZE) -L. -Wall -std=c++11 -stdlib=libc++
override CFLAGS += $(DEBUG) $(OPTIMIZE) -I. -Wall -std=c++14 -stdlib=libc++
override LFLAGS += $(DEBUG) $(OPTIMIZE) -L. -Wall -std=c++14 -stdlib=libc++

# Libraries to be linked.
# The malloc lib may be needed
LLIBS  = # -lmalloc

